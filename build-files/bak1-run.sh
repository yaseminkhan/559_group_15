#/bin/bash
# This script is used to run backup 1

export TAILSCALE_IP=100.78.239.70
export KAFKA_BOOTSTRAP_SERVERS=100.78.239.70:9092
export COORDINATOR_IP=100.78.239.70
export PRIMARY_SERVER_IP=100.78.239.70
export BACKUP_SERVER_1_IP=100.78.239.70
export BACKUP_SERVER_2_IP=100.78.239.70
export BACKUP_SERVER_3_IP=100.78.239.70

cd ../backend
## for backup server 1
set TAILSCALE_IP=100.78.239.70
set KAFKA_BOOTSTRAP_SERVERS=100.78.239.70:9092
set COORDINATOR_IP=100.78.239.70
set PRIMARY_SERVER_IP=100.78.239.70
set BACKUP_SERVER_1_IP=100.78.239.70
set BACKUP_SERVER_2_IP=100.78.239.70
set BACKUP_SERVER_3_IP=100.78.239.70
mvn exec:java -Dexec.mainClass="com.server.WebServer" -Dexec.args="8888 6001 ${PRIMARY_SERVER_IP}:5001,${BACKUP_SERVER_2_IP}:7001,${BACKUP_SERVER_3_IP}:4001 false"