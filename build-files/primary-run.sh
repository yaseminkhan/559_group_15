#/bin/bash
# This script is used to run primary

export TAILSCALE_IP=100.78.239.70
export KAFKA_BOOTSTRAP_SERVERS=100.78.239.70:9092
export COORDINATOR_IP=100.78.239.70
export PRIMARY_SERVER_IP=100.78.239.70
export BACKUP_SERVER_1_IP=100.78.239.70
export BACKUP_SERVER_2_IP=100.78.239.70
export BACKUP_SERVER_3_IP=100.78.239.70

cd ../backend
set TAILSCALE_IP=100.83.215.115
set KAFKA_BOOTSTRAP_SERVERS=100.83.215.115:9092
set COORDINATOR_IP=100.83.215.115
set PRIMARY_SERVER_IP=100.83.215.115
set BACKUP_SERVER_1_IP=100.85.115.122
set BACKUP_SERVER_2_IP=100.85.115.122
set BACKUP_SERVER_3_IP=100.85.115.122

mvn exec:java -Dexec.mainClass="com.server.WebServer" -Dexec.args="8887 5001 100.85.115.122:6001,100.85.115.122:7001,100.85.115.122:4001 true"
